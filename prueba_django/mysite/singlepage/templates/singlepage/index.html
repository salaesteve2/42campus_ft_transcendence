<!DOCTYPE html>
<html>
<head>
    <title>Trascendance</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="static/pantallaPong.css"/>
    <link rel="icon" type="image/x-icon" href="static/favicon.ico">
    <style>
        /* Estilos adicionales si es necesario */
    </style>
</head>
<body>
    <div class="container">
        <!-- Barra de navegación -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="#">Trascendance</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <button class="nav-link" data-section="home">Home</button>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Contenido principal -->
        <div id="content" class="mt-3">
            <!-- Contenido cargado desde el servidor se inserta aquí por JavaScript -->
        </div>

        <!-- Bootstrap JS y jQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

        <script>
            // Función para cargar secciones desde el servidor
            function showSection(section) {
                if (section === 'login') {
                    // Carga el contenido del formulario de inicio de sesión directamente
                    document.querySelector('#content').innerHTML = loginFormContent;
                } else if (section === 'signup') {
                    // Carga el contenido del formulario de registro directamente
                    document.querySelector('#content').innerHTML = signupFormContent;
                // } else if (section === 'partidos') {
                //     // Carga la lista de partidos mediante fetch
                //     fetch('/partidos')
                //         .then(response => response.text())
                //         .then(text => {
                //             document.querySelector('#content').innerHTML = text;
                //         });
                } else if (section === 'torneos') {
                    // Carga la lista de torneos mediante fetch
                    fetch('/torneos')
                        .then(response => response.text())
                        .then(text => {
                            document.querySelector('#content').innerHTML = text;
                        });
                }
                else {
                    // Para otras secciones, realiza la carga como antes
                    fetch(`/sections/${section}`)
                        .then(response => response.text())
                        .then(text => {
                            console.log(text);
                            document.querySelector('#content').innerHTML = text;
                        });
                }
            }
            // Función para cargar la sección de administración de torneos
            function loadTorneosAdmin() {
                fetch('/sections/torneos_admin')
                    .then(response => response.text())
                    .then(text => {
                        document.querySelector('#content').innerHTML = text;
                    });
            }

            // Event listener para los botones de navegación
            document.addEventListener("DOMContentLoaded", function() {
                document.querySelectorAll('button[data-section]').forEach(button => {
                    button.addEventListener('click', function() {
                        showSection(this.dataset.section);
                    });
                });

                // Carga la sección "home" por defecto
                showSection('home');
            });

            // Contenido del formulario de inicio de sesión
            var loginFormContent = `
                <!-- Contenido del formulario de inicio de sesión -->
                <div id="login" class="page">
                    <div class="container">
                        <h1>Welcome! Login</h1>
                        <form method="POST">
                            {% csrf_token %}
                            <table>
                                {{ form.as_table }}
                            </table>
                            <div class="button-group">
                                <p><button type="submit">Login</button></p>
                                <p><button type="reset">Clear</button></p>
                            </div>
                            <p align="center"><a href="{% url 'signup' %}">I haven't signed up yet</a></p>
                        </form>
                    </div>
                </div>
            `;

            // Contenido del formulario de registro
            var signupFormContent = `
                <!-- Contenido del formulario de registro -->
                <div id="signup" class="page">
                    <div class="container">
                        <h1>Welcome! Signup</h1>
                        <form method="POST">
                            {% csrf_token %}
                            <table>
                                {{ form.as_table }}
                            </table>
                            <p><button type="submit">Signup</button></p>
                            <p><a href="{% url 'login' %}">I have already signed up</a></p>
                        </form>
                    </div>
                </div>
            `;

            // Aquí va el contenido de pantallaPong_t.html
            // JavaScript y funciones necesarias
            // ...
        </script>
    </div>
</body>
</html>
